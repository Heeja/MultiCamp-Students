# BlockChain

##### 비트코인 & 암호화폐

Bitcoin

Ethereum

EOS



##### 탄생배경

* 무정부 주의 및 사이버 펑크 운동
  * **익명성, 탈 중앙화 사상**
* 컴퓨터 공학 및 암호화 발달
* 2007년 글로벌 금융위치 (서브 프라임 모기지 사태)
  * 대규모 모기지론 시행
  * 주택시장 붕괴
  * 대출금 미회수 > 금융기관 타격
  * 리먼브라더스 파산 > 공룡은행도 파산...!



##### Bitcoin

* 물리적인 형태가 없는 **온라인 가상화폐**
* 암호기술이 적용되어 암호화폐라고 부른다.
* 중앙기관 참여 없이 **P2P 방식**의 유통
* 코인 발행 제한: 2100만개 발행
* **상호거래가 가능**한 화폐
* **모든 거래내역 저장**: 블록체인
* 악의적인 참가자에 의한 부정 방지, P2P 시스템 유지를 위해 보상을 통한 자발적인 참여 유도: **작업 증명**
* 거래 매역 위변조 방지: **해시 함수** 이용
* 본인 인증과 부인 방지: **개인키를 이용한 전자서명**
* **별도의 서버가 존재하지 않아 운영비용 절약**
* **국경없는 무정지 시스템. 지구 어디서든(인터넷만 되면) 환전없이 송금 가능**



#### 암호화 기술의 발전

* 대칭키 암호화 방식
  * 암·복호화 키가 동일
  * 사용자가 늘어남에 따라 관리 복잡
* 공개 키 암호화 방식
  * 암·복호화 키 별도
  * 암호화에 사용하는 키, 복호화에 사용하는 키 분리 (Private Key, Public key)
* 전자 인증



##### BitCoin 대중화

* 2009년 10월 거래소 탄생 'New Liberty Standard' (1$ = 1,309.05BTC)
* 2010년 5월 첫 결제: 10,000BTC로 피자한판!
* 2010 7월 11일 기사로 공개되며 채굴자 상승
* 2010년 7월 18일 Mt. Gox 거래소 등장 - 대중화 시작



##### BitCoin 위기

* 인터넷만 되면 거래가 가능하다보니 마약거래, 무기거래 등에 악용
* 2011년 6월 12일 시세 폭등 (30$=1BTC)
* 2011년 6월 19일 Mt. Gox 해킹 사건
  * BTC 시세 폭락,폭등의 반복
  * 2013년 파산 - 해킹 아닌 Mt.Gox 시스템의 문제
  * 전 세계 거래량의 70%이 Mt.Gox에서...



##### 알트코인(Alternative Coin)



###### 비트코인의 문제점

* 통화 발행 구조
* 합의 알고리즘
* 처리 용량 및 속도
* 송금 외의 목록 작성은 어려움 (활용성(형식) 제한)



## Block Chain

* 거래 내역이 담긴 블록을 엮어 저장하는 기술 (분산원장기술)

* 다양한 정의 > 생소하다!

  * | 분류                                              |          |
    | ------------------------------------------------- | -------- |
    | 분산DB(분삭 장부)                                 |          |
    | P2P 신뢰 네트워크<br />P2P 신뢰 비지니스 네트워크 | 비트코인 |
    | 스마트계약 플랫폼                                 | 이더리움 |
    | 컴퓨터 (A Trust World Computer)                   | 블록체인 |
    | 제2의 인터넷(?)                                   |          |



#### Block Chain 구조

최초 블록 (Genesis Block)

메인 체인 블록 (Main Chain Block)

고아 블록 (Orphan Block)



##### 블록의 연결

* 블록은 순서대로 해시값을 가지며 연결. (해시 체인)

  ![ë¸ë¡ì²´ì¸ ë¸ë¡ì ì°ê²°ì ëí ì´ë¯¸ì§ ê²ìê²°ê³¼](http://d2.naver.com/content/images/2015/12/helloworld-201512-1502-3.png)

##### 블록체인 거래 방식

* 기존 거래 방식은 은행이 모든 거래내역을 장부로 관리
* 블록체인 거래는 분산된 장부가 블록에 모두 기록되면서 퉁명한 거래내역을 유지한다.
* 기관과의 협의를 통해 신뢰성 있는 거래 가능







### P2P 네트워크

* 퓨어 P2P
  * 인덱스 서버 없이 직접 노드간 연결	
  * 주변 노드 탐색 필요
  * 네트워크 구조 제어 안됨
  * 장애 대응 및 확장성 Good
* 하이브리드 P2P
  * 서버를 통해 노드 검색
  * 연결 이후 데이터 전송은 Peer to Peer



#### 해시 연산

* 데이터의 무결성을 보장하는 기술
  * 데이터를 쉽게 변조할 수 없다(무결성)
  * 변경 하더라도 그 사실을 바로 알아차릴 수 있는 특성
* 해시 (디지털 지문, DNA)
  * 특정 데이터를 고정 길이의 데이터로 변환
  * 원문이 조그만 달라도 다른 결과가 나온다.
  * 복호화 불가. 비가역 함수
* 해시 알고리즘
  * MD5, SHA-256,512
* 블록체인에서
  * 계좌 생성
    * Privite Key를 통해 Public Key를 생성할 때
    * Public Key를 가지고 계정 주소 생성과정에 사용
  * 트랜잭션 머클 트리
    * 트랜잭션을 해시로 처리.
    * 거래 내역의 위변조 방지
  * 블록체인 연결
    * 블록에 저장된 해시 값을 가지고 다음 블록 연결
  * 작업 증명
    * 특정 조건에 맞는 해시값을 찾는 것이 문제

##### 공개키 및 지갑 주소

* 개인키: 256bit 개인키 생성 (SHA256 + RIPEMD160)
* 공개키: 개인키를 ECDSA을 이용해 생성
* 지갑주소: 공개키를 이용해서 생성
* Base58 Encording: 사람이 읽을떄 헷갈리는 문자 (1,I / O 0 등..)를 제외한 58개 문자로 매핑하여 문자열을 만든다.





### 블록



### 합의 알고리즘

* 블록 생성 권한을 누구에게 줄 것인가
* 체인 분기 발생 시 메인 체인을 선택하는 방법 (나카모토 합의 알고리즘)

PoW: 작업 증명

PoS: 지분 증명

DPoS: 위임 지분 증명





# Note

https://docs.microsoft.com/ko-kr/azure/sql-database/sql-database-serverless

